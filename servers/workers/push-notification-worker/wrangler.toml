name = "push-notification-worker-dev"
main = "src/index.ts"
compatibility_flags = [ "nodejs_compat" ]
compatibility_date = "2023-05-18"

d1_databases = [
  { binding = "DB", database_name = "PushSubscription", database_id = "1a2abc1f-acd0-4de7-bf1e-1ba3335a0e3b" }
]

[vars]
ENVIRONMENT = "development"

# The necessary secrets are:
# AUTH_SECRET
#
# for local development, you can add these in .dev.vars
#
# For production, you can add these in the Cloudflare dashboard or run
# `echo <VALUE> | wrangler secret put <NAME>` for each of these
# for production, the secrets must be deployed behind the production flag
# `echo <VALUE> | wrangler secret put <NAME> --env production`
# OR
# Run `echo <VALUE> | wrangler secret put <NAME>` for each of these

[env.production]
name = "push-notification-worker-production"
d1_databases = [
  { binding = "DB", database_name = "PushSubscription", database_id = "41e2c89e-1d22-41c3-b5e5-d936d9c67af7"}
]
[env.production.vars]
ENVIRONMENT = "production"

# [env.shared]
# SHARED_VARIABLE = "shared_value"
