{
  "compiler": {
    "version": "0.8.20+commit.a1b79de6"
  },
  "language": "Solidity",
  "output": {
    "abi": [
      {
        "inputs": [],
        "name": "Initializable_InInitializingState",
        "type": "error"
      },
      {
        "inputs": [],
        "name": "Initializable_NotInInitializingState",
        "type": "error"
      },
      {
        "inputs": [],
        "name": "Introspection_AlreadySupported",
        "type": "error"
      },
      {
        "inputs": [],
        "name": "Introspection_NotSupported",
        "type": "error"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "wallet",
            "type": "address"
          },
          {
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          }
        ],
        "name": "LinkAlreadyExists",
        "type": "error"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": false,
            "internalType": "uint32",
            "name": "version",
            "type": "uint32"
          }
        ],
        "name": "Initialized",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "bytes4",
            "name": "interfaceId",
            "type": "bytes4"
          }
        ],
        "name": "InterfaceAdded",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "bytes4",
            "name": "interfaceId",
            "type": "bytes4"
          }
        ],
        "name": "InterfaceRemoved",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": false,
            "internalType": "address",
            "name": "wallet",
            "type": "address"
          },
          {
            "indexed": false,
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          }
        ],
        "name": "LinkWalletToRootKey",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": false,
            "internalType": "address",
            "name": "wallet",
            "type": "address"
          },
          {
            "indexed": false,
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          }
        ],
        "name": "RemoveLinkViaRootKey",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": false,
            "internalType": "address",
            "name": "wallet",
            "type": "address"
          },
          {
            "indexed": false,
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          }
        ],
        "name": "RemoveLinkViaWallet",
        "type": "event"
      },
      {
        "inputs": [],
        "name": "__WalletLink_init",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          },
          {
            "internalType": "address",
            "name": "wallet",
            "type": "address"
          }
        ],
        "name": "checkIfLinked",
        "outputs": [
          {
            "internalType": "bool",
            "name": "",
            "type": "bool"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          }
        ],
        "name": "getLatestNonceForRootKey",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          }
        ],
        "name": "getLatestRemoveNonceForRootKey",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "wallet",
            "type": "address"
          }
        ],
        "name": "getLatestRemoveNonceForWallet",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "wallet",
            "type": "address"
          }
        ],
        "name": "getRootKeyForWallet",
        "outputs": [
          {
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          }
        ],
        "name": "getWalletsByRootKey",
        "outputs": [
          {
            "internalType": "address[]",
            "name": "wallets",
            "type": "address[]"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "wallet",
            "type": "address"
          },
          {
            "internalType": "bytes",
            "name": "walletSignature",
            "type": "bytes"
          },
          {
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          },
          {
            "internalType": "bytes",
            "name": "rootKeySignature",
            "type": "bytes"
          },
          {
            "internalType": "uint256",
            "name": "nonce",
            "type": "uint256"
          }
        ],
        "name": "linkWalletToRootKey",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "_ethSignedMessageHash",
            "type": "bytes32"
          },
          {
            "internalType": "bytes",
            "name": "_signature",
            "type": "bytes"
          }
        ],
        "name": "recoverSigner",
        "outputs": [
          {
            "internalType": "address",
            "name": "",
            "type": "address"
          }
        ],
        "stateMutability": "pure",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          },
          {
            "internalType": "bytes",
            "name": "rootKeySignature",
            "type": "bytes"
          },
          {
            "internalType": "address",
            "name": "wallet",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "removeNonce",
            "type": "uint256"
          }
        ],
        "name": "removeLinkViaRootKey",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "wallet",
            "type": "address"
          },
          {
            "internalType": "bytes",
            "name": "walletSignature",
            "type": "bytes"
          },
          {
            "internalType": "address",
            "name": "rootKey",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "removeNonce",
            "type": "uint256"
          }
        ],
        "name": "removeLinkViaWallet",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes",
            "name": "sig",
            "type": "bytes"
          }
        ],
        "name": "splitSignature",
        "outputs": [
          {
            "internalType": "bytes32",
            "name": "r",
            "type": "bytes32"
          },
          {
            "internalType": "bytes32",
            "name": "s",
            "type": "bytes32"
          },
          {
            "internalType": "uint8",
            "name": "v",
            "type": "uint8"
          }
        ],
        "stateMutability": "pure",
        "type": "function"
      }
    ],
    "devdoc": {
      "kind": "dev",
      "methods": {
        "checkIfLinked(address,address)": {
          "params": {
            "rootKey": "the public key of the users rootkey to check",
            "wallet": "the ethereum wallet to check"
          },
          "returns": {
            "_0": "areLinked boolean if they are linked together"
          }
        },
        "getLatestNonceForRootKey(address)": {
          "params": {
            "rootKey": "the public key of the users rootkey to check"
          }
        },
        "getLatestRemoveNonceForRootKey(address)": {
          "params": {
            "rootKey": "the public key of the users rootkey to get the nonce for"
          }
        },
        "getLatestRemoveNonceForWallet(address)": {
          "params": {
            "wallet": "the ethereum wallet to get the nonce for"
          }
        },
        "getRootKeyForWallet(address)": {
          "params": {
            "wallet": "the ethereum wallet to find associated root key for"
          },
          "returns": {
            "rootKey": "the rootkey that this wallet is linked to"
          }
        },
        "getWalletsByRootKey(address)": {
          "params": {
            "rootKey": "the public key of the users rootkey to find associated wallets for"
          },
          "returns": {
            "wallets": "an array of ethereum wallets linked to this root key"
          }
        },
        "linkWalletToRootKey(address,bytes,address,bytes,uint256)": {
          "params": {
            "nonce": "a nonce used to prevent replay attacks, nonce must always be higher than previous nonce",
            "rootKey": "the public key of the users rootkey used as an ethereum address",
            "rootKeySignature": "a signature signing the has of the wallet address with the rootKey's private key",
            "wallet": "an ethereum wallet address",
            "walletSignature": "A signature signing the hash of the rootKey's public key with the wallet's private key"
          }
        },
        "removeLinkViaRootKey(address,bytes,address,uint256)": {
          "params": {
            "removeNonce": "a nonce used to prevent replay attacks, nonce must always be higher than previous nonce",
            "rootKey": "the public key of the users rootkey used as an ethereum address",
            "rootKeySignature": "A signature signing the hash of the wallet's public key with the root keys's private key",
            "wallet": "the ethereum wallet to remove from the root key"
          }
        },
        "removeLinkViaWallet(address,bytes,address,uint256)": {
          "params": {
            "removeNonce": "a nonce used to prevent replay attacks, nonce must always be higher than previous nonce",
            "rootKey": "the public key of the users rootkey used as an ethereum address",
            "wallet": "the ethereum wallet to remove from the root key",
            "walletSignature": "A signature signing the hash of the rootKey's public key with the wallet's private key"
          }
        }
      },
      "version": 1
    },
    "userdoc": {
      "events": {
        "InterfaceAdded(bytes4)": {
          "notice": "Emitted when an interface is added to the contract via `_addInterface`."
        },
        "InterfaceRemoved(bytes4)": {
          "notice": "Emitted when an interface is removed from the contract via `_removeInterface`."
        },
        "LinkWalletToRootKey(address,address)": {
          "notice": "Emitted when a user links their wallet to a rootKey"
        },
        "RemoveLinkViaRootKey(address,address)": {
          "notice": "Emitted when a user removes a wallet from a rootKey, via the rootkey"
        },
        "RemoveLinkViaWallet(address,address)": {
          "notice": "Emitted when a user removes a wallet from a rootKey, via the wallet"
        }
      },
      "kind": "user",
      "methods": {
        "checkIfLinked(address,address)": {
          "notice": "checks if a root key and wallet are linked"
        },
        "getLatestNonceForRootKey(address)": {
          "notice": "gets the latest nonce for a rootkey to use a higher one for next link action"
        },
        "getLatestRemoveNonceForRootKey(address)": {
          "notice": "gets the latest Remove nonce for a rootkey to use a higher one for next remove action"
        },
        "getLatestRemoveNonceForWallet(address)": {
          "notice": "gets the latest Remove nonce for a wallet to use a higher one for next remove action"
        },
        "getRootKeyForWallet(address)": {
          "notice": "Returns the root key for a given wallet"
        },
        "getWalletsByRootKey(address)": {
          "notice": "Returns all wallets linked to a root key"
        },
        "removeLinkViaRootKey(address,bytes,address,uint256)": {
          "notice": "Called via the rootkey signing a message to a remove a wallet from itself"
        },
        "removeLinkViaWallet(address,bytes,address,uint256)": {
          "notice": "Called via a wallet to remove itself from a root key"
        }
      },
      "version": 1
    }
  },
  "settings": {
    "compilationTarget": {
      "contracts/src/river/wallet-link/WalletLink.sol": "WalletLink"
    },
    "evmVersion": "paris",
    "libraries": {},
    "metadata": {
      "appendCBOR": false,
      "bytecodeHash": "none"
    },
    "optimizer": {
      "enabled": true,
      "runs": 200
    },
    "remappings": [
      ":@openzeppelin/=lib/openzeppelin-contracts/",
      ":@prb/test/=lib/prb-test/src/",
      ":ERC721A/=lib/ERC721A/contracts/",
      ":council/=lib/council/contracts/",
      ":ds-test/=lib/ds-test/src/",
      ":erc4626-tests/=lib/operator-filter-registry/lib/openzeppelin-contracts/lib/erc4626-tests/",
      ":forge-std/=lib/forge-std/src/",
      ":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/",
      ":openzeppelin-contracts/=lib/openzeppelin-contracts/",
      ":operator-filter-registry/=lib/operator-filter-registry/",
      ":prb-test/=lib/prb-test/src/"
    ]
  },
  "sources": {
    "contracts/src/diamond/facets/Facet.sol": {
      "keccak256": "0x8213b85d1271bc3c2aa9842979c8ad825066c4c9addc55296d53b6747e5198ba",
      "license": "Apache-2.0",
      "urls": [
        "bzz-raw://b4e88e869c99e65f0caeb9d03938e78c578a869783b9f20c05f4ba52e7ca493d",
        "dweb:/ipfs/QmRqPmg8BYD1V6Cd8kfihCQ7nn2DAsgRjGW2MJvc7Evnjt"
      ]
    },
    "contracts/src/diamond/facets/initializable/Initializable.sol": {
      "keccak256": "0x2a4f3a99b3b3ac6c2c18431cea80b40774c1d8265ddefac21b26da561e069096",
      "license": "MIT",
      "urls": [
        "bzz-raw://36dbba730942b1fd345f242051ea7f33e979f70392fbd929d8522c0c9c6dd367",
        "dweb:/ipfs/QmYMvYnvg9zQJpDQX9yMHZ1AET9Vx7UXtDenXAs1JhfPpd"
      ]
    },
    "contracts/src/diamond/facets/initializable/InitializableStorage.sol": {
      "keccak256": "0x99dfe047dbb8df48a7490f63939420dd990fb5fd3b3a03c42d0cb9c6f4f9eefa",
      "license": "Apache-2.0",
      "urls": [
        "bzz-raw://5e8f6d4bff257324e4544cacadd9fee42bada459f457fb707fef90bcfe0e895a",
        "dweb:/ipfs/QmYWEam5VcMt5ViNMKRkaxoD84MK2MewS5iWwSES589Vma"
      ]
    },
    "contracts/src/diamond/facets/introspection/IERC165.sol": {
      "keccak256": "0xa1dfa0449031fced106dd105c184823595398c876be53b4bb8d855937a435816",
      "license": "Apache-2.0",
      "urls": [
        "bzz-raw://e98a9007bca24776e4580c9326cfbb72ffe56334229626c336545be8c2c6e6d2",
        "dweb:/ipfs/QmdqoQTUoDKqirUR3hscy4zBh4Kn2E1fRta1y9DfA43urV"
      ]
    },
    "contracts/src/diamond/facets/introspection/IntrospectionBase.sol": {
      "keccak256": "0x503b6ce030f8a760e9a877545b35307d05bbb704b501095795ab2168fe40db59",
      "license": "Apache-2.0",
      "urls": [
        "bzz-raw://769658fed18c26f67dec9bf4ca18dd595c0343bc8ea21bb3e50595eca3401265",
        "dweb:/ipfs/QmVuqWH5eKqBJbNEtXzybgZ7ahtjTraMew8CMb4TuVUyo6"
      ]
    },
    "contracts/src/diamond/facets/introspection/IntrospectionStorage.sol": {
      "keccak256": "0xd2ec3bbe4d15f9232006b41e0a80a5127006243ee596754af77bd3926045782a",
      "license": "Apache-2.0",
      "urls": [
        "bzz-raw://8c47e18bfd34a687ce9ec75dc1f1fa5bca088e97e59aad2ac3fdb0989d06d7e6",
        "dweb:/ipfs/QmdktQXV7PKABzh43SZqemdTG25RxMaMsgpXTTUvZUxmfU"
      ]
    },
    "contracts/src/river/wallet-link/IWalletLink.sol": {
      "keccak256": "0xb8350f89f2f94c0034726169bd55365cef7703b719426b34785cd8cacae60800",
      "license": "Apache-2.0",
      "urls": [
        "bzz-raw://fb0bb1c4584bc08f5d06454ebb60beebfb6aa87bd6dc65889993311b088baf18",
        "dweb:/ipfs/QmYujB1LQqxLbanypUUf6z6oc3BYkKbzXkenyf2qBTmDyz"
      ]
    },
    "contracts/src/river/wallet-link/WalletLink.sol": {
      "keccak256": "0xccb3d6afdbb5c506271a36328d8ed7ceef7876fb8a25f2fb0314460ad1cffd95",
      "license": "Apache-2.0",
      "urls": [
        "bzz-raw://9af05477c5d5b9ce3267c90d0e0b5e05dec028c4b8549ff4c8ee66d87e9fd84d",
        "dweb:/ipfs/QmeN8M5LP1Su5CbTwy2Br2eyXPLnypYhzFk4JAA9o4SNSk"
      ]
    },
    "contracts/src/river/wallet-link/WalletLinkBase.sol": {
      "keccak256": "0xbfeb25435517f1602938ea3837640c2cf07556207c9c3b2e8763917871798396",
      "license": "Apache-2.0",
      "urls": [
        "bzz-raw://674eb29b44edaa7be5fa885568e80a3a0fb0639726d685374b9ce25cb8ca9113",
        "dweb:/ipfs/QmU7YnMjRA4HxGnjfBq9FHWeHXisjmyHxWVLNrUPKWUZmz"
      ]
    },
    "contracts/src/river/wallet-link/WalletLinkStorage.sol": {
      "keccak256": "0xda6bed801917711119b46d0d2cdb3656cfc17cd3e6c66c6ac60042bb42036c91",
      "license": "Apache-2.0",
      "urls": [
        "bzz-raw://a3b40823af8237baf0ceba70d44b0c51c2ea50aa5e813f0e77ccc591b4c7f55f",
        "dweb:/ipfs/QmZQWn7qzaoWd8MBy8zmFzggjLcV9YzoFfc8CohpW14t2S"
      ]
    },
    "lib/openzeppelin-contracts/contracts/utils/Address.sol": {
      "keccak256": "0xf96f969e24029d43d0df89e59d365f277021dac62b48e1c1e3ebe0acdd7f1ca1",
      "license": "MIT",
      "urls": [
        "bzz-raw://ec772b45a624be516f1c81970caa8a2e144301e9d0921cbc1a2789fef39a1269",
        "dweb:/ipfs/QmNyjwxCrGhQMyzLD93oUobJXVe9ceJvRvfXwbEtuxPiEj"
      ]
    },
    "lib/openzeppelin-contracts/contracts/utils/Strings.sol": {
      "keccak256": "0xa4d1d62251f8574deb032a35fc948386a9b4de74b812d4f545a1ac120486b48a",
      "license": "MIT",
      "urls": [
        "bzz-raw://8c969013129ba9e651a20735ef659fef6d8a1139ea3607bd4b26ddea2d645634",
        "dweb:/ipfs/QmVhVa6LGuzAcB8qgDtVHRkucn4ihj5UZr8xBLcJkP6ucb"
      ]
    },
    "lib/openzeppelin-contracts/contracts/utils/cryptography/ECDSA.sol": {
      "keccak256": "0xda898fa084aa1ddfdb346e6a40459e00a59d87071cce7c315a46d648dd71d0ba",
      "license": "MIT",
      "urls": [
        "bzz-raw://ce501a941f4aa1555c04dabb5e07992503bb6a9b32ff8f7cdcefdb4a742210cb",
        "dweb:/ipfs/QmeScPrUpdrGYs9BytV3Z5ZWJcBXtuAgCW4BLHua4xFUxx"
      ]
    },
    "lib/openzeppelin-contracts/contracts/utils/math/Math.sol": {
      "keccak256": "0xa1e8e83cd0087785df04ac79fb395d9f3684caeaf973d9e2c71caef723a3a5d6",
      "license": "MIT",
      "urls": [
        "bzz-raw://33bbf48cc069be677705037ba7520c22b1b622c23b33e1a71495f2d36549d40b",
        "dweb:/ipfs/Qmct36zWXv3j7LZB83uwbg7TXwnZSN1fqHNDZ93GG98bGz"
      ]
    },
    "lib/openzeppelin-contracts/contracts/utils/structs/EnumerableSet.sol": {
      "keccak256": "0xc3ff3f5c4584e1d9a483ad7ced51ab64523201f4e3d3c65293e4ca8aeb77a961",
      "license": "MIT",
      "urls": [
        "bzz-raw://d7d3dd6067a994690471b5fc71b6f81fac3847798b37d404f74db00b4d3c3d0e",
        "dweb:/ipfs/QmRHF1RarifjNi93RttouNPkYZGyu6CD926PgRDzD5iL35"
      ]
    }
  },
  "version": 1
}